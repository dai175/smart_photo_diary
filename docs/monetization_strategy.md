# Smart Photo Diary - 収益化戦略ドキュメント

## 概要

Smart Photo Diaryは、AI技術を活用した写真日記アプリとして、持続可能な収益モデルの確立を目指します。本ドキュメントでは、競合分析に基づいた課金戦略と実装計画を定義します。

## 課金モデル

### 2層フリーミアム戦略

Smart Photo Diaryは、以下の2つのプランを提供します：

| プラン | 価格 | 主要機能 |
|--------|------|----------|
| **Basic（無料）** | ¥0 | 月10回AI生成、基本機能 |
| **Premium** | ¥300/月、¥2,800/年 | 月100回AI生成、高度機能 |

## プラン詳細

### 🆓 Basic プラン（無料）

**対象ユーザー**: 日記を試してみたい新規ユーザー、軽いユーザー

**提供機能**:
- ✅ 月10回までのAI日記生成
- ✅ 写真選択・保存機能（最大3枚）
- ✅ 基本的な検索・フィルタ
- ✅ ローカルストレージ
- ✅ ライト・ダークテーマ
- ✅ データエクスポート（JSON形式）
- ❌ 広告表示なし（プライバシー重視）

**制限事項**:
- AI日記生成は月10回まで
- 高度なフィルタ機能なし
- AI分析機能なし

### 💎 Premium プラン

**対象ユーザー**: 日常的に日記を書くユーザー、デジタル手帳として活用したいユーザー

**価格**:
- 月額: ¥300
- 年額: ¥2,800（月額比22%割引）
- 7日間無料トライアル付き

**提供機能**:
- ✅ Basic プランの全機能
- ✅ **月100回までのAI日記生成**
- ✅ **ライティングプロンプト機能**
- ✅ 高度なフィルタ・検索機能
- ✅ タグベース検索
- ✅ 日付範囲指定検索
- ✅ 時間帯フィルタ
- ✅ データエクスポート（複数形式）
- ✅ 優先カスタマーサポート
- ✅ 統計・分析ダッシュボード

**制限事項**:
- AI日記生成は月100回まで（1日約3回程度）
- 超過時は翌月まで待機、または従量課金オプション検討

## 競合分析

### 主要競合アプリの価格調査

| アプリ名 | 価格（年額） | AI機能 | 特徴 |
|----------|-------------|--------|------|
| **Day One** | ¥3,400 | なし | 老舗日記アプリ、豊富なテンプレート |
| **Journey** | ¥3,900 | 基本的なAI | クロスプラットフォーム対応 |
| **Diarly** | ¥2,400 | AI アシスタント | シンプルなUI、セキュリティ重視 |
| **Momento** | ¥2,100 | 自動収集 | SNS連携、自動データ収集 |

### 価格戦略の根拠

1. **Premium プラン (¥2,800/年)**:
   - 競合他社より手頃な価格設定（Day One ¥3,400、Journey ¥3,900）
   - AI機能 + ライティングプロンプトでコストパフォーマンス重視
   - 日本市場での受容性を考慮した価格帯
   - 月100回制限により適切なコスト管理
   - 学生や若年層にもアクセスしやすい価格
   - 競合の主要機能（プロンプト）も含む包括的なサービス

## AIコスト分析

### Google Gemini API料金

現在使用しているGemini 2.5 Flashの料金体系：

- **入力トークン**: $0.15 per 1M tokens
- **出力トークン**: $0.60 per 1M tokens

### 1回の日記生成コスト試算

**一般的な使用例**:
- 入力（写真解析 + プロンプト）: 約300トークン
- 出力（日記テキスト）: 約200トークン
- **総コスト**: 約¥0.5-2 per 生成

**Premium プランでの月間コスト試算**:
- 月100回生成の場合: ¥50-200
- 月額¥300に対するコスト率: 約17-67%
- 年額換算での収益性: 十分な利益確保可能

**コスト最適化戦略**:
- 効率的なプロンプト設計でトークン数削減
- バッチ処理による API 呼び出し最適化
- ユーザー使用パターン分析による予測精度向上

## ユーザー転換戦略

### フェーズ1: ユーザー獲得（ローンチ〜6ヶ月）

**目標**:
- 10,000 MAU（月間アクティブユーザー）
- Premium転換率 5-8%（手頃な価格により向上期待）

**戦略**:
- 寛大な無料プラン（月10回AI生成）
- 7日間無料トライアル
- 手頃な価格によるアクセスしやすさ訴求
- 口コミマーケティング重視

### フェーズ2: 収益最適化（6ヶ月〜1年）

**目標**:
- 25,000 MAU
- Premium転換率 8-12%
- 高いユーザー満足度（月100回制限の適切性）

**戦略**:
- AI機能の品質向上と差別化
- ユーザーフィードバックによる機能改善
- リテンション向上施策
- 使用量分析による制限の最適化

### フェーズ3: 事業拡大（1年〜）

**目標**:
- 50,000+ MAU
- 新機能プラン導入検討
- 新市場展開

**戦略**:
- ファミリープラン（複数アカウント割引）
- 従量課金オプション（超過分）
- 企業向けチーム機能検討

## 実装計画・進捗管理

### Phase 1: 基盤実装（サブスクリプション機能）

**優先度: 高** | **期限: リリース前必須** | **担当: 開発チーム**

#### 1.1 SubscriptionService 実装
- [ ] **基本設計・インターフェース定義**
  - [ ] ISubscriptionService インターフェース作成
  - [ ] SubscriptionPlan enum定義（Basic, Premium）
  - [ ] SubscriptionStatus model作成

- [ ] **App Store Connect/Google Play Console設定**
  - [ ] アプリ内課金商品設定（月額¥300、年額¥2,800）
  - [ ] テスト用サンドボックスアカウント準備
  - [ ] 価格設定・地域別価格調整

- [ ] **SubscriptionService 実装**
  ```dart
  class SubscriptionService {
    // [ ] プラン管理機能
    // [ ] 課金状態チェック機能
    // [ ] App Store/Play Store連携
    // [ ] 購入・復元・キャンセル処理
    // [ ] Result<T>パターンでのエラーハンドリング
  }
  ```

- [ ] **テスト実装**
  - [ ] MockSubscriptionService作成
  - [ ] 単体テスト（購入フロー、復元フロー）
  - [ ] 統合テスト（実際の課金フロー）

#### 1.2 AiService 使用量制限実装
- [ ] **使用量管理機能**
  - [ ] 月間使用回数カウント機能
  - [ ] プラン別制限チェック（Basic: 10回、Premium: 100回）
  - [ ] 使用履歴保存機能（月次リセット）

- [ ] **制限チェック・エラーハンドリング**
  - [ ] generateDiary前の制限チェック実装
  - [ ] 制限超過時の適切なエラーメッセージ
  - [ ] Result<T>パターンでのエラーハンドリング強化

- [ ] **UI連携**
  - [ ] 残り使用回数表示機能
  - [ ] 制限到達時のアップグレード促進UI
  - [ ] 使用量リセット日表示

#### 1.3 SettingsService 拡張
- [ ] **サブスクリプション状態管理**
  - [ ] 現在のプラン状態保存
  - [ ] 購入日・期限管理
  - [ ] 自動更新状態管理

- [ ] **設定画面統合**
  - [ ] サブスクリプション状態表示
  - [ ] プラン変更・管理画面
  - [ ] 購入履歴表示

### Phase 2: ライティングプロンプト実装

**優先度: 高（リリース前必須）** | **期限: Phase 1完了後** | **担当: 開発チーム**

#### 2.1 プロンプトデータ・モデル設計
- [ ] **プロンプトモデル設計**
  - [ ] WritingPrompt model作成
  - [ ] カテゴリ分類（日常、旅行、仕事、感謝、振り返り等）
  - [ ] プラン別アクセス制御

- [ ] **プロンプトデータベース**
  - [ ] 基本プロンプト作成（Basic用：5-10個）
  - [ ] Premium プロンプト作成（30-50個）
  - [ ] JSON/ローカルデータとして保存

#### 2.2 プロンプト機能実装
- [ ] **PromptService 実装**
  ```dart
  class PromptService {
    // [ ] プロンプト取得機能（プラン別フィルタ）
    // [ ] ランダム表示機能
    // [ ] カテゴリ別取得機能
    // [ ] 使用履歴管理（重複回避）
  }
  ```

- [ ] **UI実装**
  - [ ] プロンプト表示画面
  - [ ] カテゴリ選択UI
  - [ ] ランダム表示ボタン
  - [ ] Premium限定プロンプトのロック表示

#### 2.3 AI連携・統合
- [ ] **AiService統合**
  - [ ] プロンプト+写真でのAI生成
  - [ ] コンテキスト統合改善
  - [ ] プロンプトベース生成の品質向上

- [ ] **使用量分析機能**
  - [ ] プロンプト使用頻度分析
  - [ ] カテゴリ別人気度分析
  - [ ] ユーザー行動分析基盤

### Phase 3: テスト・品質保証

**優先度: 高** | **期限: リリース前** | **担当: QAチーム + 開発チーム**

#### 3.1 機能テスト
- [ ] **サブスクリプション機能テスト**
  - [ ] 購入フローテスト（月額・年額）
  - [ ] 復元機能テスト
  - [ ] キャンセル・払い戻しテスト
  - [ ] 使用量制限テスト

- [ ] **プロンプト機能テスト**
  - [ ] プラン別表示テスト
  - [ ] ランダム表示機能テスト
  - [ ] AI連携テスト

#### 3.2 統合テスト・パフォーマンステスト
- [ ] **E2Eテスト**
  - [ ] ユーザー登録→プロンプト使用→課金→Premium機能使用
  - [ ] 制限到達→アップグレード→制限解除フロー

- [ ] **パフォーマンステスト**
  - [ ] 大量データでの動作確認
  - [ ] メモリリーク検証
  - [ ] バッテリー消費テスト

### Phase 4: リリース準備

**優先度: 高** | **期限: ストア申請前** | **担当: 全チーム**

#### 4.1 ストア申請準備
- [ ] **App Store申請**
  - [ ] アプリ説明文・スクリーンショット更新
  - [ ] 課金機能レビュー対応
  - [ ] プライバシーポリシー更新

- [ ] **Google Play申請**
  - [ ] Play Console設定完了
  - [ ] 段階的リリース設定
  - [ ] アプリ内課金テスト完了

#### 4.2 マーケティング準備
- [ ] **プロモーション材料**
  - [ ] プレスリリース作成
  - [ ] 機能紹介動画作成
  - [ ] ユーザーガイド作成

### Phase 5: Premium機能強化（リリース後）

**優先度: 中** | **期限: リリース後3-6ヶ月** | **担当: 開発チーム**

- [ ] **高度なフィルタ機能強化**
- [ ] **エクスポート形式追加**
- [ ] **統計ダッシュボード充実**
- [ ] **UI/UXの差別化**

### Phase 6: 拡張機能（長期）

**優先度: 低** | **期限: リリース後6ヶ月以降** | **担当: 企画チーム + 開発チーム**

- [ ] **従量課金オプション**
  - [ ] 100回超過時の追加購入機能
  - [ ] 柔軟な価格設定

- [ ] **将来機能**
  - [ ] 音声入力機能
  - [ ] ファミリー共有
  - [ ] エンタープライズ向け機能

---

### 進捗管理ルール

**更新頻度**: 週次
**責任者**: プロジェクトマネージャー
**レビュー**: 各Phase完了時に全体レビュー実施

**進捗ステータス**:
- [ ] 未着手
- [⏳] 進行中  
- [✅] 完了
- [⚠️] 遅延・課題あり
- [❌] ブロック中

## KPI・メトリクス

### 主要指標

1. **ユーザー指標**
   - MAU（月間アクティブユーザー）
   - 新規登録数
   - リテンション率（1日、7日、30日）

2. **収益指標**
   - MRR（月間経常収益）
   - ARPU（ユーザー平均収益）
   - 転換率（Free→Premium）

3. **プロダクト指標**
   - AI生成回数（プラン別）
   - 制限到達率（Basic: 10回、Premium: 100回）
   - 機能利用率
   - ユーザーサポート問い合わせ数

### 目標設定

**6ヶ月後**:
- MAU: 10,000
- MRR: ¥420,000（手頃な価格での高い転換率期待）
- Premium転換率: 7%

**1年後**:
- MAU: 25,000
- MRR: ¥1,050,000
- Premium転換率: 10%
- ユーザー満足度: 月100回制限に対する高い満足度

## リスク分析と対策

### 技術的リスク

1. **AIコスト急増**
   - **リスク**: ユーザー増加によるAPI費用増大
   - **対策**: 使用量監視、効率的なプロンプト設計

2. **プラットフォーム依存**
   - **リスク**: App Store/Play Storeポリシー変更
   - **対策**: 複数決済手段の準備、Web版検討

### 市場リスク

1. **競合参入**
   - **リスク**: 大手企業の類似アプリ投入
   - **対策**: 差別化機能強化、ユーザーロイヤルティ向上

2. **需要変動**
   - **リスク**: 日記アプリ市場の縮小
   - **対策**: 用途拡張（ライフログ、ビジネス日記等）

## まとめ

Smart Photo Diaryの収益化戦略は、シンプルな2層フリーミアムモデルを採用し、手頃な価格設定（¥2,800/年）によりアクセスしやすさを重視します。月100回のAI生成制限により適切なコスト管理を実現しながら、プライバシー重視のユーザー層に高品質なAI日記体験を提供します。競合他社より低価格でありながら、AI機能付きという差別化により、持続可能な事業成長を目指します。

---

**更新履歴**:
- 2024-06-15: 初版作成
- 将来的な更新は市場調査とユーザーフィードバックに基づいて実施